#!/usr/bin/env node

// Parse arguments
var args = process.argv.slice(2);
if (args.length < 1) {
  console.error('usage: shex-to-json query.shex');
  return process.exit(1);
}

var fs = require('fs'),
    ShExParser = require('../shex').Parser;

// Parse and display the query
var query = fs.readFileSync(args[0]).toString(),
    parseTree = new ShExParser().parse(query);
console.log('%s', JSON.stringify(parseTree, null, '  '));
